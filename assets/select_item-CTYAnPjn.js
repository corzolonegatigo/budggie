import"./style-IsFppSze.js";import"https://cdn.jsdelivr.net/npm/@lottiefiles/dotlottie-web/+esm";import"./home_page-BAQqMSTm.js";import{a as w}from"./hide_toggle-C0J1AC6A.js";import{l as I}from"./listing_page_headers-DNf6bWJe.js";import{l as S}from"./mock_data-D9VIJ8cx.js";import{a as M}from"./index-DeSGKNYx.js";import"https://cdn.jsdelivr.net/npm/three@0.154.0/build/three.module.js";import"https://cdn.jsdelivr.net/npm/three@0.117.1/examples/jsm/loaders/FBXLoader.js";document.addEventListener("DOMContentLoaded",function(){const n=new URLSearchParams(window.location.search),o=n.get("item_id")||"",e=n.get("confirm")||!1;if(o!==""){I();const t=S[o],a=document.getElementById("item-name-page-title");a.innerText=t.title,document.getElementById("item-title").innerText=t.title,document.getElementById("item-desc").innerText=t.desc,document.getElementById("price").innerText=`$${t.price}`,document.getElementById("seller").innerText=t.sold_by,document.getElementById("item-name").innerText=t.title;const i=document.getElementById("select-item-button");document.getElementById("return-to-viewing"),i.addEventListener("click",function(u){w(),window.scrollTo(0,0),n.append("confirm","true"),window.history.pushState(null,"",`?${n.toString()}`),I()}),e&&w()}else window.location.href="./main.html"});document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("carou-img-holder");console.log(n);const o=document.getElementById("selected-img");let e=JSON.parse(window.localStorage.getItem("item-listing-data")).img_carou;const t=document.getElementById("carou-fwd"),a=document.getElementById("carou-bck");function i(){o.src=e[0];for(let s=0;s<u;s++){const d=document.getElementById(s);d.src=e[s]}}t.addEventListener("click",function(s){s.preventDefault(),e.push(e.shift()),i()}),a.addEventListener("click",function(s){s.preventDefault();let d=e[e.length-1],x=e.slice(0,-1);e=[d,...x],i()});const u=5;for(let s=0;s<u;s++){const d=document.createElement("img");d.className="slide",d.id=s,s===0&&d.classList.add("current-slide"),n.appendChild(d)}i()});const L=new Date,b=L.getFullYear(),B=L.getMonth()+1;let m=new Date,c=B,l=b;const T=JSON.parse(window.localStorage.getItem("Userdata")),p=document.getElementById("date-selector");console.log(p);const O=document.getElementById("fwd-mth"),C=document.getElementById("bck-mth"),y=document.getElementById("select-date"),$=document.getElementById("confirm"),N=document.getElementById("monthly-amt"),r=document.getElementById("checkbox"),J=document.querySelector(".affirm"),h=document.getElementById("select-item"),A=document.getElementById("final-date"),g=document.querySelector(".dates"),Y=document.getElementById("selector-text"),q=document.getElementById("curr-month-year"),D=JSON.parse(window.localStorage.getItem("item-listing-data")).price,v=JSON.parse(window.localStorage.getItem("item-listing-data")).title;console.log(v,"itemname");var k=["January","February","March","April","May","June","July","August","September","October","November","December"];y.addEventListener("click",function(n){console.log("hi"),p.classList.toggle("hidden"),y.classList.toggle("selector-on")});O.addEventListener("click",()=>{c===11&&l++,c=(c+1)%12,_(),E()});C.addEventListener("click",()=>{c===0&&l--,c=(c-1+12)%12,_(),E()});function E(){q.innerText=`${k[c]} ${l}`}const F=n=>{const o=n.target,e=g.querySelector(".date-selected");e&&e.classList.remove("date-selected"),o.classList.add("date-selected"),m=new Date(l,c,parseInt(o.textContent)),console.log(),Y.innerHTML=`${m.getDay()}/${m.getMonth()+1}/${m.getFullYear()}`};function _(){g.innerHTML="";const n=new Date(l,c,0);for(let t=0;t<=n.getDay()&&n.getDay()!==6;t++){const a=n.getDate()-n.getDay()+t,i=f(a,!0);g.appendChild(i)}const o=new Date(l,c+1,0);for(let t=1;t<=o.getDate();t++){const a=f(t,!1);a.addEventListener("click",F),g.appendChild(a)}const e=new Date(l,c+1,1);for(let t=e.getDay();t<7&&e.getDay()!==0;t++){const a=e.getDate()-e.getDay()+t,i=f(a,!0);g.appendChild(i)}}function f(n,o=!1){const e=document.createElement("button");if(e.textContent=n,e.disabled=o,e.className="date-item",!o){const t=new Date(l,c,n).toDateString(),a=t===new Date().toDateString(),i=t===m.toDateString();e.classList.toggle("today",a),e.classList.toggle("selected",i)}return e}_();E();$.addEventListener("click",function(n){const o=(l-b)*12+(c-B);let e=Math.round(D/o);o===0&&(e=D),N.innerText=e,A.innerText=`${k[c]}, ${l}`,document.getElementById("show-after-date-confirmed").classList.remove("hidden"),p.classList.toggle("hidden"),y.classList.toggle("selector-on")});J.addEventListener("click",function(n){r.classList.add("fading"),setTimeout(()=>{[r.src,r.dataset.alt]=[r.dataset.alt,r.src],r.classList.remove("fading")},150),h.classList.toggle("disabled")});h.addEventListener("click",function(n){h.classList.contains("disabled")||M(v,T)});
