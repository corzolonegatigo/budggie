import"./style-IsFppSze.js";import"https://cdn.jsdelivr.net/npm/@lottiefiles/dotlottie-web/+esm";import"./home_page-BAQqMSTm.js";import{l as w}from"./listing_page_headers-CS2IgID5.js";import{h as v,a as S}from"./hide_toggle-C0J1AC6A.js";import{l as f}from"./mock_data-Ct9s0eOJ.js";import"./set_item_progress-i0DBECfC.js";import"https://cdn.jsdelivr.net/npm/three@0.154.0/build/three.module.js";import"https://cdn.jsdelivr.net/npm/three@0.117.1/examples/jsm/loaders/FBXLoader.js";window.localStorage.getItem("Userdata")===null&&(window.location.href="./index.html");document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("items"),l=document.getElementById("search-query"),c=document.getElementById("enter-query"),e=new URLSearchParams(window.location.search).get("search")||"";e!==""&&(l.value=e),l.addEventListener("input",()=>{let a=l.value;n(a)}),c.addEventListener("click",function(a){a.preventDefault();let o=l.value;const t=o?`?search=${encodeURIComponent(o)}`:window.location.pathname;o!==""&&(window.localStorage.setItem("search-url",t),n(o),window.history.pushState(null,"",t),console.log(window.localStorage),w())});function n(a=""){s.innerHTML="";for(const o in f){const t=f[o];if(t.title.includes(a)||a===""){const i=document.createElement("div");i.className="listing-item";const g=document.createElement("img");g.src=t.img_main,g.className="thumbnail";const p=document.createElement("h2");p.innerText=t.title,p.className="listing-name";const u=document.createElement("p");u.innerText=t.desc,u.className="item-description hide-on-mobile";const h=document.createElement("h3");h.innerHTML=`Sold by <em class='bold'>${t.sold_by}</em>`,h.className="seller-listing";const _=document.createElement("h2");_.innerText=`$${[t.price]}`,_.className="listing-price";const m=document.createElement("div");m.className="listing-bottom",i.appendChild(g),i.appendChild(p),i.appendChild(u),m.appendChild(_),m.appendChild(h),i.appendChild(m),s.appendChild(i),i.id=o,i.addEventListener("click",function(y){y.preventDefault(),window.localStorage.setItem("item-listing-data",JSON.stringify(t)),window.location.href=`./selecting_item.html?item_id=${encodeURIComponent(o)}`})}}}n(e),w(),v()});const b=document.getElementById("page-toggle"),r=document.querySelectorAll(".show-on-mobile"),L=document.getElementById("html-main");document.querySelector(".page-main");const I=document.getElementById("triangle"),E=document.getElementById("selected-item-section");document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector(".page-main");function l(){L.classList.toggle("half-size"),L.classList.toggle("full-size"),S(),E&&E.classList.toggle("hidden"),I.classList.toggle("flip")}function c(){if(window.innerWidth<=768){let e=!!new URLSearchParams(window.location.search).get("page_open");console.log(e);for(let n=0;n<r.length;n++)r[n].classList.remove("hidden");s.classList.add("hidden"),e&&l(),b.addEventListener("click",function(n){e=!e,console.log(e),e?window.history.pushState(null,"","?page_open=open"):window.history.pushState(null,"","?page_open="),l()})}else{for(let e=0;e<r.length;e++)r[e].classList.add("hidden");s.classList.remove("hidden");const d=new URL(window.location);d.searchParams.delete("page_open"),window.history.replaceState(null,"",d.toString())}}document.addEventListener("resize",()=>{c()}),c()});
