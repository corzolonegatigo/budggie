import"./style-IsFppSze.js";import"./home_page-BAQqMSTm.js";import{u as s}from"./index-D3m6cTPi.js";import"https://cdn.jsdelivr.net/npm/three@0.154.0/build/three.module.js";import"https://cdn.jsdelivr.net/npm/three@0.117.1/examples/jsm/loaders/FBXLoader.js";import"https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";document.addEventListener("DOMContentLoaded",function(){const u=document.getElementById("payment-details");console.log(u);const E=document.querySelectorAll(".payment-opt"),p=document.getElementById("select-payment-type"),h=document.getElementById("submit-payment-info");let c=JSON.parse(localStorage.getItem("Userdata"));c._id;const y=c.itemprogress;console.log(y);const a=window.localStorage.getItem("money_to_add");delete c._id;let f=JSON.parse(c.card);const l=Number(y)+Number(a);document.getElementById("amt-added").innerText=`$${a}`;const _=document.getElementById("cc-no"),I=document.getElementById("ccv"),v=document.getElementById("months"),g=document.getElementById("years"),r=document.getElementById("existing-cards");document.getElementById("money").innerText=`${a}`;function L(e){let t=!0;console.log(e);for(const o of e)o.value===""&&(t=!1,o.value="");return t}function B(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];const o=new Date().getFullYear();for(let n=0;n<e.length;n++){const d=document.createElement("option");d.value=e[n],d.innerText=e[n],v.appendChild(d)}for(let n=0;n<10;n++){const d=document.createElement("option");d.value=o+n,d.innerText=o+n,g.appendChild(d)}}let m="",i=!1;if(E.forEach(e=>e.addEventListener("click",function(t){t.preventDefault(),m!==""&&m.classList.remove("payment-selected"),e.classList.add("payment-selected"),m=e,i=!0})),document.getElementById("card").addEventListener("click",function(e){e.preventDefault(),u.classList.remove("hidden"),p.classList.add("hidden")}),document.getElementById("qr").addEventListener("click",function(e){e.preventDefault(),document.getElementById("payment-qr").classList.remove("hidden"),p.classList.add("hidden")}),document.getElementById("payment-qr").addEventListener("click",function(e){e.preventDefault(),s(l,c)}),B(),f){const e=document.createElement("div");e.className="vert-line",r.appendChild(e.cloneNode(!0));const t=document.createElement("button");t.classList="payment-type";const o=f.card_number.slice(-4,-1);t.innerHTML=`<h4>Card ending with ${o}</h4> <img src="/public/arrow_fwd.svg">`,t.addEventListener("click",function(n){n.preventDefault(),s(l,c),console.log("hi")}),r.appendChild(t),r.appendChild(e.cloneNode(!0))}h.addEventListener("click",function(e){e.preventDefault();const t=document.querySelectorAll(".payment-field");L(t)&&i?(_.value,I.value,v.value,g.value,document.getElementById("cc-name").value,s(l,c)):(console.log("hi"),i?document.querySelector(".payment-setup-error").innerText="You have a few input fields blank!":document.querySelector(".payment-setup-error").innerText="Please select a payment method!",document.querySelector(".payment-setup-error").classList.remove("hidden"))})});
